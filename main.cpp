//FluidInterface.h and FluidInterface.cxx - these two files are generated by Fluid - DO NOT MODIFY THEM!
//UserInterface.h and UserInterface.cpp - these are the two main files implementing the User interface
//UserInterface class is derived from FluidInterface class
//add/remove elements in the UserInterface class constructor using delete and new

//TODO:

//add a Control class where the main program will run
//add an Algo class which will house all the algos and be accessed by Control - this is where trading decisions are made
//add a Data class which will deal with all the data - at first loaded from a file into some structure database
//at a later point the Data class will be getting a live feed from Interactive Brokers
//connect all the classes with pointers so they know about each other's existance - possibly through just one class

//first algo to write - something very very simple like a stupid scalper without any guards


//#include "UserInterface.h"
#include "Pointers.h"
#include "Data.h"
#include "Control.h"
#include "Display.h"


#include <iostream>
#include <string>

/*

//////////
STRUCTURE:
//////////

ONLY THREE MAIN PARTS (everything else included in on of three parts as a sub-part)

DIPLAY
DATA
CONTROL

Pointers - seperate - stores pointers to all three main parts



FluidInterface - base class for UserInterface - made by Fluid for easy modification. NEVER CHANGE THIS - to make changes - use fluid.exe
UserInterface - main display window derived from FluidInterface
Control????
OrderBook - store all orders here
MarketData - get data from here (live data? stored data? how?)
StreamOfMktSnap - part of MarketData?



Algo - make decisions here (one algo? more algos?)





*/



//int launch(Pointers  * pointers)
//{
//	//UserInterface *window = (UserInterface*)pointers->get_ptr_t_UserInterface();
//	//window->show();
//	//return Fl::run();
//	return 0;
//}

//this function ensures classes Display, Data and Control can see each other:
void setPointers(Pointers pointers)	//this function ensures classes Display, Data and Control can see each other:
{
	
	//set pointers in Display:
	//pointers.ptr_t_display->ptr_t_control = pointers.ptr_t_control;
	//pointers.ptr_t_display->ptr_t_data = pointers.ptr_t_data;
	//pointers->ptr_t_display->pointers = pointers;
	//set pointers in Data:
	//pointers->ptr_t_data->ptr_t_control = pointers->ptr_t_control;
	//pointers->ptr_t_data->ptr_t_display = pointers->ptr_t_display;
	//pointers->ptr_t_data->pointers = pointers;
	//set pointers in Control:
	//pointers->ptr_t_control->ptr_t_data = pointers->ptr_t_data;
	//pointers->ptr_t_control->ptr_t_display = pointers->ptr_t_display;
	//pointers->ptr_t_control->pointers = pointers;

	Display::StaticPointers = pointers;

}



int main()
{
	//problem - make sure all three classes can communicate between each other
	//create three main parts of the program:
	Display * display = new Display;
	Data * data = new Data;
	Control * control = new Control;
	
	Pointers pointers;	//this enables easy communication between three classes
	pointers.initPointers(control, data, display);	//initialize pointers inside Pointers class
	setPointers(pointers);	//set pointers inside Display, Data and Control classes
	
	Pointers staticPointersTry(0, 0, 0);
//	static Pointers::myStaticPointers = pointers;
	//pointers->ptr_t_display->window->show();
	display->window->show();

//	Control::myStaticPointers(control, data, display);
	//Pointers Display::StaticPointers = pointers;
	
	Display::mystaticint = 5;
	
	//display->StaticPointers.initPointers(display, data, control);


	return Fl::run();
}